<%- include('partials/header.ejs') %>
<div class="container">
    <!-- <header>
        <h1>AttentionAI</h1>
        <p>Your ADHD Accountability Coach</p>
    </header> -->

    <div class="task-container">
        <div class="toggle-div">
            <a href="/">Chat</a>
            <a href="/todo-list" id="selected-tab">Tasks</a>
        </div>
        <div class="task-list" id="task-list">
            <% todoList.forEach(task => { %>
                <div class="task">
                    <input type="checkbox" name="" id="">
                    <p><%= task.task_name %> at <%= task.scheduled_time %> for <%= task.duration %> minutes</p>
                </div>
            <% }) %>
        </div>
        <div class="task-input">
            <form action="/addTask" method="post">
                <div class="text-input-div">
                    <input type="text" id="goal-input" name="taskName" placeholder="Add a new Task...">
                </div>
                <div class="input-div">
                    <div class="time-input-div">
                        <label for="scheduledTime">Scheduled Time:</label>
                        <input type="time" id="scheduled-time" name="scheduledTime" required>
                    </div>
                    <div class="duration-input-div">
                        <label for="duration">Duration in mins:</label>
                        <input type="number" id="duration" name="duration" required>
                    </div> 
                </div>
                <button id="add-task-btn" type="submit">Add Task</button>  
                
            </form>
        </div>
    </div>
</div>

<script>
    const chatMessages = document.getElementById('chat-messages');
    chatMessages.scrollTop = chatMessages.scrollHeight;
</script>
